import './polyfills.server.mjs';
import{a as w,b as u,c as F,d as E,e as R,f as y,g as A,i as T,j as N,k as G,l as q}from"./chunk-KXJKBTJQ.mjs";import{A as h,C as S,D as b,z as C}from"./chunk-RRDARBPN.mjs";import{$a as r,Ba as p,Ga as x,La as c,Va as f,Xa as s,ab as n,bb as g,db as v,eb as _,ib as t,wa as m}from"./chunk-7JXXYRXS.mjs";import"./chunk-X2SEQXRR.mjs";function j(e,l){e&1&&t(0," Please enter a valid email ")}function D(e,l){e&1&&t(0," Email is required ")}function I(e,l){if(e&1&&(r(0,"p",7),c(1,j,1,0)(2,D,1,0),n()),e&2){let o,i,a=_();m(),s(!((o=a.registerForm.get("email"))==null||o.errors==null)&&o.errors.email?1:-1),m(),s(!((i=a.registerForm.get("email"))==null||i.errors==null)&&i.errors.required?2:-1)}}function k(e,l){e&1&&t(0," Password is required ")}function M(e,l){e&1&&t(0," password must be atleast 8 characters ")}function P(e,l){e&1&&(t(0," Password must contain: "),r(1,"ul",16)(2,"li"),t(3,"uppercase"),n(),r(4,"li"),t(5,"lowercase"),n(),r(6,"li"),t(7,"special character"),n(),r(8,"li"),t(9,"number"),n()())}function z(e,l){if(e&1&&(r(0,"p",7),c(1,k,1,0)(2,M,1,0)(3,P,10,0),n()),e&2){let o,i,a,d=_();m(),s(!((o=d.registerForm.get("password"))==null||o.errors==null)&&o.errors.required?1:-1),m(),s(!((i=d.registerForm.get("password"))==null||i.errors==null)&&i.errors.minlength?2:-1),m(),s(!((a=d.registerForm.get("password"))==null||a.errors==null)&&a.errors.pattern?3:-1)}}var L=class e{constructor(l,o,i,a){this.auth=l;this.router=o;this.fb=i;this.alert=a;this.registerForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(8),u.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]]})}registerForm;onSubmit(){if(!this.registerForm.valid){this.registerForm.markAllAsTouched();return}let{email:l,password:o}=this.registerForm.value;this.auth.register({email:l,password:o}).subscribe({next:i=>{this.router.navigate(["/verify-otp"],{state:{email:l}})},error:i=>{this.alert.show("username already exists","error")}})}static \u0275fac=function(o){return new(o||e)(p(b),p(C),p(T),p(G))};static \u0275cmp=x({type:e,selectors:[["app-register"]],decls:27,vars:4,consts:[[1,"min-h-screen","flex","items-center","p-4","justify-center"],[1,"w-full","max-w-md","shadow","rounded","p-6"],[1,"text-center","font-bold","text-2xl"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email"],["type","email","formControlName","email",1,"w-full","border","rounded","p-2"],[1,"text-red-500","text-sm"],["for","password"],["type","password","formControlName","password",1,"w-full","border","rounded","p-2"],["type","submit",1,"w-full","bg-emerald-600","text-white","hover:bg-emerald-800","rounded","transition","px-2","cursor-pointer"],[1,"my-4","text-center","text-gray-500","text-sm"],[1,"w-full","bg-emerald-600","text-white","hover:bg-emerald-800","rounded","transition","px-2","cursor-pointer"],[1,"text-center","mt-4","text-gray-500"],[1,"text-emerald-800","underline",3,"routerLink"],[1,"fixed","bottom-4","left-1/2","transform","-translate-x-1/2","z-50"],[1,"space-y-1"]],template:function(o,i){if(o&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),t(3,"Sign up"),n(),r(4,"form",3),v("ngSubmit",function(){return i.onSubmit()}),r(5,"div",4)(6,"label",5),t(7,"Email"),n(),g(8,"input",6),c(9,I,3,2,"p",7),n(),r(10,"div",4)(11,"label",8),t(12,"password"),n(),g(13,"input",9),c(14,z,4,3,"p",7),n(),r(15,"button",10),t(16," sign up "),n(),r(17,"div",11),t(18,"OR"),n(),r(19,"button",12),t(20," Login with Google "),n()(),r(21,"p",13),t(22,"Already have an account? "),r(23,"a",14),t(24,"Login"),n()()(),r(25,"div",15),g(26,"app-alert"),n()()),o&2){let a,d;m(4),f("formGroup",i.registerForm),m(5),s(i.registerForm.touched&&((a=i.registerForm.get("email"))!=null&&a.invalid)?9:-1),m(5),s(i.registerForm.touched&&((d=i.registerForm.get("password"))!=null&&d.invalid)?14:-1),m(9),f("routerLink","/login")}},dependencies:[S,h,N,R,w,F,E,y,A,q],encapsulation:2})};export{L as RegisterComponent};
