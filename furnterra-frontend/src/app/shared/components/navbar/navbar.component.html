<nav class="w-full z-10 flex flex-row lg:flex-row justify-between lg:items-center px-5 py-2">
  <div class="flex items-center relative justify-between">
    <div class="flex gap-3 items-center">
      <svg (click)="toggleNavbarMenu()" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"
        fill="none" stroke="#000000" class="block lg:hidden focus:outline-none cursor-pointer" stroke-width="1"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 6l16 0" />
        <path d="M4 12l16 0" />
        <path d="M4 18l16 0" />
      </svg>
      <a class="text-3xl font-black whitespace-nowrap md:right-20 my-auto text-yellow-600 focus:outline-none" [routerLink]="'/'">
        Furnterra
      </a>
    </div>

    <div class="relative">
      @if (navbarMenu) {
      <div
        class="fixed top-0 left-0 h-full w-[80%] bg-white shadow-lg p-6 z-40 flex flex-col gap-4 transition-transform duration-300 ease-in-out animate-slide-in lg:hidden">
          <div class="flex justify-between">
            <ul class="space-y-3">
              <li><a [routerLink]="'/'" class="hover:underline text-gray-800 text-base">Home</a></li>
              <li><a [routerLink]="'/products'" class="hover:underline text-gray-800 text-base">Products</a></li>
              <li><a [routerLink]="'/about'" class="hover:underline text-gray-800 text-base">about</a></li>
              <li><a [routerLink]="'/blogs'" class="hover:underline text-gray-800 text-base">blogs</a></li>
      
            </ul>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#000000"
              stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="cursor-pointer z-10 relative" (click)="toggleNavbarMenu()" >
              <path d="M18 6l-12 12" />
              <path d="M6 6l12 12" />
            </svg>
          </div>
      </div>
  
      }
    </div>

  </div>
  <div class="relative w-full hidden lg:block my-3 lg:my-0 lg:mx-auto lg:max-w-md">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#99a1af"
      class="absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
      <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
      <path d="M21 21l-6 -6" />
    </svg>
    <input [(ngModel)]="searchForm" type="text" placeholder="Search products..."
      class="w-full px-4 py-2 rounded-md border-2 border-gray-400 text-sm text-gray-500 focus:outline-none" />
  </div>

  <div class="gap-2 items-center flex">
    <app-favorite></app-favorite>
    <div>
      <app-cart></app-cart>
    </div>

    @if(auth.isAuth()){
    <div class="relative" (click)="toggleProfileMenu()">

      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000"
        class="cursor-pointer focus:outline-none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
        <path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
        <path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855" />
      </svg>

      @if(profileMenu){

      <div class="absolute right-0 mt-2 w-48 bg-white rounded shadow z-50 transition ease-in-out duration-200">
        @if(fullName){
          <h2 class="px-4 py-2 font-semibold  underline">
              {{fullName.firstName}} {{fullName.lastName}}
          </h2>
        }
        @if(isAdmin){
          <a [routerLink]="'/dashboard'" class="block px-4 py-2 hover:bg-gray-100">dashboard</a>
        }
        <a [routerLink]="'/profile'" class="block px-4 py-2 hover:bg-gray-100">Profile</a>
        <button (click)="auth.logout()" class="w-full text-left px-4 py-2 hover:bg-gray-100 cursor-pointer">
          Logout
        </button>
      </div>
      }
    </div>
    }
    @else{
    <svg [routerLink]="'/login'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
      fill="none" stroke="#000000" class="cursor-pointer focus:outline-none" stroke-width="1" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
      <path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
      <path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855" />
    </svg>
    }
  </div>


</nav>
<div class="relative mx-5 lg:hidden my-3 ">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#99a1af"
    class="absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
    <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
    <path d="M21 21l-6 -6" />
  </svg>
  <input type="text" placeholder="Search products..."
    class="w-full px-4 py-2 rounded-md border-2 border-gray-400 text-sm text-gray-500 focus:outline-none" />
</div>

<nav class=" top-10 z-10 w-full hidden lg:block">
  <hr>
  <ul class="flex justify-center font-medium space-x-14 items-center text-sm my-4">
    <li>
      <a [routerLink]="'/'" class="hover:underline" aria-current="page">Home</a>
    </li>
    <li>
      <a [routerLink]="'/products'" class="hover:underline">Products</a>
    </li>
    <li>
      <a [routerLink]="'/about'" class="hover:underline">About</a>
    </li>
    <li>
      <a [routerLink]="'/blogs'" class="hover:underline">Blogs</a>
    </li>
  </ul>
  <hr>
</nav>
